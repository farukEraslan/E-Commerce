@using E_Commerce.Web.Models.Dto.Order
@using E_Commerce.Web.Models.Dto.Order.ViewModels
@model CartDto

<h1>Sepetim</h1>

<div class="navbar">
    <a class="btn btn-primary" asp-controller="Home" asp-action="Index">Ürünlere Git</a>
</div>
<table class="table">
    <thead>
        <tr>
            <th></th>
            <th>Kitap Adı</th>
            <th>Sipariş Adedi</th>
            <th>Birim Fiyat</th>
            <th>İşlemler</th>
        </tr>
    </thead>
    <tbody>

        @foreach (var product in Model.CartLines)
        {
            <tr>
                <td class="align-middle">
                    <img style="width:75px; height:100px;" src="@product.Product.ImageUrl" alt="@product.Product.ProductName" />
                </td>
                <td class ="align-middle">@product.Product.ProductName</td>
                <td class="align-middle">@product.Quantity</td>
                <td class="align-middle">@product.Product.UnitPrice</td>
                <td class="align-middle">
                    <span class="btn btn-warning">
                        @if (product.Quantity >= 10)
                        {
                            <a class="btn fa fa-plus disabled"></a>
                        }
                        else
                        {
                            <a class="btn fa fa-plus align-middle" asp-controller="Order" asp-action="AddToCart" asp-route-productId="@product.ProductId" asp-route-userId="ac1790c7-b694-4c05-a60d-5b1e58ea13f4"></a>
                        }
                        <span class="btn disabled align-middle" style="width:35px; height:35px; padding:4px;">@product.Quantity</span>
                        <a class="btn fa fa-minus align-middle" asp-controller="Order" asp-action="RemoveFromCart" asp-route-productId="@product.ProductId" asp-route-userId="ac1790c7-b694-4c05-a60d-5b1e58ea13f4"></a>
                    </span>
                </td>
            </tr>
        }

    </tbody>

</table>
<div class="container d-flex justify-content-end align-items-center">
    <span class="border-bottom border-warning border-3" style="margin-right: 60px; padding: 5px;">Sipariş Toplamı : @Model.CartTotalPrice TL</span>
    <a class="btn btn-warning" href="#">Sipariş Ver</a>
</div>